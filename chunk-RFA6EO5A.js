import{a as I}from"./chunk-V6KGQEPR.js";import{a as R,b as g,c as T,d as z,g as A,h as D,i as N,j as q,k as V,l as j}from"./chunk-NQUXY33H.js";import{r as F}from"./chunk-EMUXDAZT.js";import{Aa as C,Ab as k,Ba as x,Bb as L,Ga as M,Ha as O,I as u,J as f,Ka as p,Ma as s,P as w,Z as a,ca as c,cb as y,ea as v,eb as E,mb as S,oa as l,pa as d,sa as _,ta as i,ua as r,va as h,ya as P}from"./chunk-QQJZZCOM.js";var B=["passwordInput"];function G(t,n){t&1&&(i(0,"small",11),s(1,"Email is required"),r())}function Q(t,n){t&1&&(i(0,"small",11),s(1,"Please enter a valid email address"),r())}function Z(t,n){if(t&1&&(l(0,G,2,0,"small",11),l(1,Q,2,0,"small",11)),t&2){let o=x();d(o.email.errors!=null&&o.email.errors.required?0:-1),a(),d(o.email.errors!=null&&o.email.errors.pattern?1:-1)}}function H(t,n){t&1&&(i(0,"small",11),s(1,"Password is required"),r())}function U(t,n){if(t&1&&l(0,H,2,0,"small",11),t&2){let o=x();d(o.password.errors!=null&&o.password.errors.required?0:-1)}}function $(t,n){t&1&&(i(0,"small",11),s(1,"Invalid email or password"),r())}var Y=class t{constructor(n,o,e,m,b){this.FB=n;this.auth=o;this.toastr=e;this.router=m;this.cdRef=b;this.loginForm=this.FB.group({email:["",[g.required,g.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)]],password:["",[g.required]]})}isEyeOpen=w(!0);passwordInputRef=y("passwordInput");loginForm;invalidLogin=!1;ngAfterViewChecked(){this.auth.getAccessToken()&&this.router.navigate(["/Dashboard"]),this.cdRef.detectChanges()}togglePasswordEye(){let n=this.passwordInputRef()?.nativeElement;n&&this.isEyeOpen.update(o=>{let e=!o;return n.type=e?"password":"text",e})}get email(){return this.loginForm.controls.email}get password(){return this.loginForm.controls.password}onsubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched(),this.toastr.warning("Please fill in all required fields correctly.");return}this.auth.login(this.loginForm.value).subscribe({next:n=>{this.auth.saveNewTokens(n),this.toastr.success("Login Successfully"),this.router.navigateByUrl("/Dashboard"),this.invalidLogin=!1},error:n=>{console.error(n),this.toastr.error("Invalid email or password","Login Failed"),this.invalidLogin=!0}})}static \u0275fac=function(o){return new(o||t)(c(V),c(I),c(F),c(k),c(E))};static \u0275cmp=v({type:t,selectors:[["app-login"]],viewQuery:function(o,e){o&1&&M(e.passwordInputRef,B,5),o&2&&O()},decls:22,vars:17,consts:[["passwordInput",""],[1,"fullScreen"],[1,"signup-container"],[3,"ngSubmit","formGroup"],[1,"input-group"],["for","email"],["formControlName","email","type","text","id","email","name","Email","placeholder","Please Enter Your Email","required",""],[1,"input-group","password-toggle"],["for","password"],["formControlName","password","type","password","id","password","name","password","placeholder","Please Enter Your password","required",""],[1,"fa-duotone","fa-light","fa-eye","toggle-password",3,"click"],[1,"error-message"],["routerLink","/forgetPassword",1,"forget"],["type","submit",3,"disabled"]],template:function(o,e){if(o&1){let m=P();i(0,"div",1)(1,"div",2)(2,"h2"),s(3,"Login"),r(),i(4,"form",3),C("ngSubmit",function(){return u(m),f(e.onsubmit())}),i(5,"div",4)(6,"label",5),s(7,"Email"),r(),h(8,"input",6),r(),l(9,Z,2,2),i(10,"div",7)(11,"label",8),s(12,"password"),r(),h(13,"input",9,0),i(15,"i",10),C("click",function(){return u(m),f(e.togglePasswordEye())}),r()(),l(16,U,1,1),l(17,$,2,0,"small",11),i(18,"a",12),s(19,"ForgetPassword"),r(),i(20,"button",13),s(21,"^login^"),r()()()()}o&2&&(a(4),_("formGroup",e.loginForm),a(4),p("error",e.email.invalid&&e.email.touched)("success",e.email.valid&&e.email.touched),a(),d(e.email.invalid&&e.email.touched?9:-1),a(4),p("error",e.password.invalid&&e.password.touched||e.invalidLogin)("success",e.password.valid&&e.password.touched),a(2),p("fa-eye",e.isEyeOpen())("fa-eye-slash",!e.isEyeOpen()),a(),d(e.password.invalid&&e.password.touched?16:-1),a(),d(e.invalidLogin?17:-1),a(3),_("disabled",e.loginForm.invalid))},dependencies:[L,j,A,R,T,z,q,D,N,S],styles:['.fullScreen[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;background:linear-gradient(to right,#6a11cb,#2575fc);display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;color:#333}.signup-container[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:15px;box-shadow:0 10px 30px #0003;width:100%;max-width:450px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .8s ease-out;margin-top:64px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:25px;font-size:2em;position:relative}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:60px;height:4px;background-color:#2575fc;border-radius:2px}.input-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:right}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:600;color:#555;font-size:.95em}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 10px;border:1px solid #ddd;border-radius:8px;font-size:1em;transition:border-color .3s ease,box-shadow .3s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2575fc;box-shadow:0 0 0 3px #2575fc33;outline:none}.password-toggle[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 40px 12px 10px;border:1px solid #ddd;border-radius:8px;font-size:1em;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}.password-toggle[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;top:71%;right:32px;transform:translateY(-71%);cursor:pointer;color:#aaa;font-size:1.1em;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#666}.password-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:#aaa;font-size:1.1em;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]:hover{color:#666}button[_ngcontent-%COMP%]{background-color:#2575fc;color:#fff;padding:15px 30px;border:none;border-radius:8px;font-size:1.1em;font-weight:600;cursor:pointer;transition:background-color .3s ease,transform .2s ease;width:100%;margin-top:20px}button[_ngcontent-%COMP%]:hover{background-color:#1a5acb;transform:translateY(-2px)}.social-signup[_ngcontent-%COMP%]{margin-top:25px;border-top:1px solid #eee;padding-top:25px}.social-signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:15px;font-size:.9em}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.social-button[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #ddd;padding:12px 20px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;display:flex;align-items:center;gap:8px;font-size:.9em;color:#444;text-decoration:none}.social-button[_ngcontent-%COMP%]:hover{background-color:#e9e9e9;transform:translateY(-2px)}.social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.login-link[_ngcontent-%COMP%]{margin-top:25px;font-size:.9em;color:#666}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2575fc;text-decoration:none;font-weight:600;transition:color .3s ease}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1a5acb;text-decoration:underline}.input-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:red;box-shadow:0 0 0 3px #d6010133;outline:none}.input-group[_ngcontent-%COMP%]   input.success[_ngcontent-%COMP%]{border-color:#0f0;box-shadow:0 0 0 3px #01d60133;outline:none}input.error[_ngcontent-%COMP%]{border:1px solid red}input.success[_ngcontent-%COMP%]{border:1px solid green}.error-message[_ngcontent-%COMP%]{color:red;font-size:.8em;margin-top:-10px;margin-bottom:10px;display:block}.forget[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}']})};export{Y as Login};
